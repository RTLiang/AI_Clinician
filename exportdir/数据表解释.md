
## [microbio.csv](./microbio.csv)

### 表头信息

- `charttime`：标准时间戳（秒）
- `chartdate`：标准日期戳（秒）

> 在计算过程中，如果缺失其中一个值，用另一个值填补。

#### 示例

| subject_id | hadm_id | charttime    | chartdate    | specimen | itemid | 备注                     |
| ---------- | ------- | ------------ | ------------ | -------- | ------ | ------------------------ |
| 96         | 170324  | 5879135400.0 | 5879088000.0 | Blood    | 70013  | 已记录完整 `charttime`      |
| 96         | 170324  | 缺失         | 5879088000.0 | Blood    | 70013  | 运行时用 `chartdate` 补齐时间戳 |

第一行已记录完整 `charttime`；第二行缺失 `charttime` 时，会用 `chartdate`（5879088000.0）补齐再参与后续处理。

---

## [culture.csv](./culture.csv)

> **culture**（在这些 CSV 和 SQL 脚本里）指的是医护人员把血液、尿液、呼吸道分泌物等标本送到实验室进行“培养”检测的事件。通过培养，实验室观察标本里是否有细菌或真菌生长，以判断患者是否存在感染来源。

#### 示例

| subject_id | hadm_id | icustay_id | charttime    | itemid | 说明                  |
| ---------- | ------- | ---------- | ------------ | ------ | --------------------- |
| 2          | 163353  | 243653.0   | 5318688000.0 | 3333   | 血培养（CareVue 项目） |
| 5          | 178980  | 214757.0   | 4199839200.0 | 3333   | 血培养（CareVue 项目） |

`itemid=3333` 表示血培养事件，`charttime` 标记采样时间，脚本会与 `microbio.csv` 中的记录合并以构建完整的疑似感染事件表。

---

## [demog.csv](./demog.csv)


`demog.csv` 是从 MIMIC-III 的人口学相关表（如 `ADMISSIONS`、`PATIENTS`、`ICUSTAYS` 等）整合出来的汇总表，供脚本在构建队列时查询 ICU 住院的基础信息。

| 字段名         | 说明                                                                      |
| -------------- | ------------------------------------------------------------------------- |
| `subject_id`   | 患者在 MIMIC-III 中的全局匿名编号，贯穿其所有住院与 ICU 记录。                        |
| `hadm_id`      | 一次医院住院（Hospital Admission）的编号，某位患者每次入院都有独立的 hadm_id。        |
| `icustay_id`   | ICU 住院/留观的编号；一次住院可能包含多次 ICU stay。                                 |
| `admittime`    | 本次住院（hadm_id）的入院时间戳（秒）。                                              |
| `dischtime`    | 本次住院的出院/转出时间戳。                                                          |
| `adm_order`    | 患者的第几次入院，例如 1 表示首次入院。                                              |
| `unit`         | ICU 类型或病区标识，按提取 SQL 中的整数编码（1=MICU，2=SICU，3=TSICU，4=CSRU，5=NICU，6=CCU）。 |
| `intime`       | 当前 icustay_id 对应的 ICU 入科时间戳。                                              |
| `outtime`      | 当前 icustay_id 的 ICU 出科时间戳。                                                  |
| `los`          | ICU 住院时长（length of stay），单位通常是小时或天，对应 intime 到 outtime 的差值。   |
| `age`          | ICU 入科时的年龄（以天为单位，`intime` − `dob`）；>89 岁会按 HIPAA 规则截断。         |
| `dob`          | 出生日期时间戳（date of birth）。                                                    |
| `dod`          | 死亡时间戳（date of death），若患者未死亡则为空值。                                   |
| `expire_flag`  | 住院期间是否死亡的布尔标记（1=死亡，0=存活）。                                       |
| `gender`       | 性别（通常编码为 1/2 或 male/female）。                                              |
| `morta_hosp`   | 院内死亡指标（1=在 hospital stay 内死亡，0=未死亡）。                                 |
| `morta_90`     | 出院后 90 天内的死亡指标。                                                           |
| `elixhauser`   | Elixhauser 共病评分，用于量化合并症负担，支持后续风险调整。                           |

#### 示例

| subject_id | hadm_id | icustay_id | admittime    | dischtime    | adm_order | unit | intime      | outtime     | los  | age     | dob | dod | expire_flag | gender | morta_hosp | morta_90 | elixhauser |
| ---------- | ------- | ---------- | ------------ | ------------ | --------- | ---- | ----------- | ----------- | ---- | ------- | --- | --- | ----------- | ------ | ---------- | -------- | ---------- |
| 7          | 118037  | 236754.0   | 4777574400.0 | 4779499200.0 | 1         | 1    | 4777582800.0 | 4779315600.0 | 48.1 | 29200.0 | ... | ... | 0           | 1      | 0          | 0        | 12         |

示例中患者首次入 MICU，ICU 停留约 48 小时，院内及 90 天死亡标记均为 0，Elixhauser 共病评分为 12。

字段解释：
- `subject_id=7`：MIMIC-III 中的匿名患者编号。
- `hadm_id=118037`：这次医院住院（Hospital Admission）的唯一编号。
- `icustay_id=236754.0`：关联的 ICU 住院记录编号。
- `admittime`/`dischtime`：住院入院与出院时间戳（秒），数值按 Unix 秒计但经过 MIMIC 的日期平移（可能显示为未来年份），主要用于相对时序计算而非真实日历日期。
- `adm_order=1`：患者首次住院。
- `unit=1`：示例中数值 1 通过编码映射为内科 ICU（MICU）。
- `intime`/`outtime`：ICU 入科与出科时间戳。
- `los=48.1`：ICU 停留约 48 小时。
- `age=29200.0`：示例患者入科时约 80 岁（29200 天 ≈ 80 年）；新生儿的 `age` 会以数小时到数天的小数形式表示。
- `dob`/`dod`：出生与死亡时间戳（示例中未展示具体值）。
- `expire_flag=0`，`morta_hosp=0`，`morta_90=0`：住院期间及出院 90 天内均存活。
- `gender=1`：性别编码（需结合提取脚本定义，通常 1/2 对应男/女）。
- `elixhauser=12`：Elixhauser 共病指数，表明合并症负担程度，用于风险调整。
